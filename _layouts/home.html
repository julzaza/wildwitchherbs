---
layout: default
---

<div class="page__content home-layout">

  <!-- FEATURED POSTS -->
  <section class="cluster-section">
    <h2>Featured Guides</h2>
    <div class="entries-grid">
      {% assign featured_posts = site.posts | sort: 'date' | reverse %}
      {% assign featured_count = 0 %}
      {% for post in featured_posts %}
        {% if post.featured %}
          {% include archive-single.html post=post type="grid" %}
          {% assign featured_count = featured_count | plus: 1 %}
          {% if featured_count == 3 %}{% break %}{% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </section>

  <!-- HERBALISM POSTS -->
  <section class="cluster-section">
    <h2>Herbalism</h2>
    <div class="entries-grid">
      {% assign herbal_posts = site.posts | sort: 'date' | reverse %}
      {% assign herbal_count = 0 %}
      {% for post in herbal_posts %}
        {% if post.categories contains 'herbal-magic' %}
          {% include archive-single.html post=post type="grid" %}
          {% assign herbal_count = herbal_count | plus: 1 %}
          {% if herbal_count == 6 %}{% break %}{% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </section>

  <!-- MORE ARTICLES -->
  <section class="cluster-section">
    <h2>More Articles</h2>
    <div class="entries-grid">
      {% assign other_posts = site.posts | sort: 'date' | reverse %}
      {% assign other_count = 0 %}
      {% for post in other_posts %}
        {% if post.featured != true and post.categories contains 'herbal-magic' == false %}
          {% include archive-single.html post=post type="grid" %}
          {% assign other_count = other_count | plus: 1 %}
          {% if other_count == 6 %}{% break %}{% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </section>

</div>

<style>
/* 3 posts per row desktop */
.home-layout .entries-grid {
  display: grid;
  grid-template-columns: repeat(3, auto);
  gap: 2rem;
}

/* Tablet: 2 per row */
@media (max-width: 1024px) {
  .home-layout .entries-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile: 1 per row */
@media (max-width: 640px) {
  .home-layout .entries-grid {
    grid-template-columns: 1fr;
  }
}

/* Ensure headings are separate */
.cluster-section h2 {
  margin-bottom: 1.5rem;
  clear: both;
}
</style>

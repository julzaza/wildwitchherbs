---
layout: default
---

<div class="page__content home-layout">

  <!-- FEATURED POSTS -->
  <section class="cluster-section" style="clear:both; display:block; width:100%; margin-bottom:3rem;">
    <h2>Featured Guides</h2>
    {% assign featured_posts = site.posts | sort:'date' | reverse | where:"featured", true | limit:3 %}
    <div class="entries-grid">
      {% for post in featured_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

  <!-- HERBALISM POSTS -->
  <section class="cluster-section" style="clear:both; display:block; width:100%; margin-top:5rem; margin-bottom:3rem;">
    <h2>Herbalism</h2>
    {% assign herbal_posts = site.posts | where_exp:"post","post.categories contains 'herbal-magic'" | sort:'date' | reverse %}
    {% assign herbal_posts = herbal_posts | slice:0,6 %}
    <div class="entries-grid">
      {% for post in herbal_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

  <!-- ALL OTHER POSTS -->
  <section class="cluster-section" style="clear:both; display:block; width:100%; margin-top:5rem; margin-bottom:3rem;">
    <h2>More Articles</h2>
    {% assign other_posts = site.posts | where_exp:"post","post.featured != true" | where_exp:"post","post.categories contains 'herbal-magic' == false" | limit:6 %}
    <div class="entries-grid">
      {% for post in other_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

</div>

<style>
/* Force 3 posts per row on homepage */
.home-layout .entries-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
}

/* Tablet */
@media (max-width: 1024px) {
  .home-layout .entries-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile */
@media (max-width: 640px) {
  .home-layout .entries-grid {
    grid-template-columns: 1fr;
  }
}

/* Optional: spacing for headings so they are on their own line */
.cluster-section h2 {
  margin-bottom: 2rem;
}
</style>

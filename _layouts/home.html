---
layout: default
---

<div class="page__content home-layout">

  <!-- FEATURED POSTS -->
  <section class="cluster-section">
    <h2>Featured Guides</h2>
    {% assign featured_posts = site.posts | sort:'date' | reverse | where:"featured", true | limit:3 %}
    <div class="entries-grid">
      {% for post in featured_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

  <!-- HERBALISM POSTS -->
  <section class="cluster-section" style="margin-top:5rem;">
    <h2>Herbalism</h2>
    {% assign herbal_posts = site.categories['herbal-magic'] | sort:'date' | reverse | slice:0,6 %}
    <div class="entries-grid">
      {% for post in herbal_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

  <!-- MORE ARTICLES -->
  <section class="cluster-section" style="margin-top:5rem;">
    <h2>More Articles</h2>
    {% assign other_posts = site.posts | where_exp:"post","post.featured != true" | limit:6 %}
    <div class="entries-grid">
      {% for post in other_posts %}
        {% include archive-single.html post=post type="grid" %}
      {% endfor %}
    </div>
  </section>

</div>

<style>
/* GRID: 3 POSTS PER ROW DESKTOP */
.home-layout .entries-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
}

/* Tablet */
@media (max-width: 1024px) {
  .home-layout .entries-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile */
@media (max-width: 640px) {
  .home-layout .entries-grid {
    grid-template-columns: 1fr;
  }
}

/* FIX POST CARD STRETCHING */
.home-layout .entries-grid .archive__item {
  display: flex !important;
  flex-direction: column;
  height: auto !important;
}

.home-layout .entries-grid .archive__item .archive__item-content {
  flex: 1 0 auto; /* content determines height */
}

/* Optional: limit excerpt length visually */
.home-layout .entries-grid .archive__item .archive__item-excerpt {
  display: -webkit-box;
  -webkit-line-clamp: 5;
  -webkit-box-orient: vertical;  
  overflow: hidden;
}
</style>
